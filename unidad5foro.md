# ¿Cómo interactúa su aplicación con la base de datos para autenticar/autorizar al usuario que inicia sesión?

Primeramente el sistema cuenta con una vista (register) para el registro de usuarios en donde se le pide al usuario que ingrese: su nombre, correo electrónico, contraseña, confirmación de la contraseña y luego presiona el botón registrarse,  luego el controlador (RegisterController) se encarga de interactuar con el modelo (User) y a su ves almacena en la base de datos (receveca) en la tabla (users) el nuevo usuario registrado. Inicialmente el nuevo usuario registrado cuenta con privilegios limitados, para cambiar sus privilegios un usuario con el rol de “admin” desde su interfase como administrador puede modificar el rol de dicho usuario.
También
El sistema cuenta con una vista (login) de inicio de sesión en donde el usuario debe ingresar sus credenciales: correo, contraseña y luego presiona el botón iniciar sesión, luego el controlador (LoginController) se encarga de interactuar con el modelo (User) y verifica si las credenciales ingresadas pertenecen un usuario en la tabla (users) de la base de datos (receveca), si las credenciales no son correctas el sistema redirecciona la a la vista (login) para que vuelva a intentar ingresar las credenciales nuevamente, si las credenciales que se ingresan existen (es decir son validas) en la tabla (users) dentro de la base de datos (receveca), el sistema crea una nueva sesión de usuario y la almacena en la base de datos (receveca) en la tabla (sessions) luego redirecciona a la vista (home) con los privilegios según el rol que tenga el usuario logeado. 
El sistema desarrollado es un Web Site. Estamos usando el framework Laravel 11.10 y php 8.2 y blade para las vistas. Tenemos instalado el paquete de autenticación laravel/ui y el scaffolding  de bootstrap --auth

# ¿Cómo maneja su aplicación el cierre/finalización de la sesión de usuario?

El sistema cuenta con una opción en el menú principal de finalizar sesión. Luego de seleccionar esta opción el controlador se encarga de interactuar con el modelo que a su vez se encarga de cerrar la sesión de usuario dentro de la tabla (sessions) base de datos (receveca) y redirecciona a la vista (welcome) que es la vista inicial del sistema en donde puede ingresar cualquier usuario sin tener credenciales, allí también aparecen los enlaces a la vista iniciar sesión (login) y la vista registrar (register). 
El sistema también cuenta con un token de seguridad en donde el sistema por inactividad de un usuario a pesar que el usuario este logeado la sesión de cierra después de 5 min de inactividad. Siempre y cuando el usuario no halla seleccionado la opción “mantener sesión activa” al inicio de sesión.

# ¿Cuál es la utilidad de que una aplicación maneje correctamente las sesiones de usuario?

Esto permite que solo los usuarios autorizados ingresen y usen el sistema según los roles y privilegios relacionados con dichos roles, actualmente manejamos 3 roles: el rol admin, asesor y cliente. El buen manejo de sesiones también agrega un nivel de seguridad, hemos implementado en el sistema que la sesión se cierre si el usuario a estado inactivo después de 5 min.

# ¿Cómo maneja su aplicación el inicio de la sesión de usuario?

El sistema cuenta con una vista (login) de inicio de sesión en donde el usuario debe ingresar sus credenciales: correo, contraseña, selecciona el check si desea que su sesión se mantenga activa y luego presiona el botón iniciar sesión, luego el controlador se encarga de interactuar con el modelo y verifica si las credenciales ingresadas pertenecen un usuario real en la tabla (users) de la base de datos (receveca), si las credenciales no son correctas el sistema redirecciona la a la vista (login) para que vuelva a intentar ingresar las credenciales nuevamente, si las credenciales que se ingresan existen (es decir son validas) en la tabla (users) dentro de la base de datos (receveca), el sistema crea una nueva sesión de usuario y la almacena en la base de datos en la tabla (sessions) luego redirecciona a la vista (home) con los privilegios según el rol que tenga el usuario logeado. 
El sistema desarrollado es un Web Site. Estamos usando el framework Laravel 11.10 y php 8.2 y blade para las vistas. Tenemos instalado el paquete de autenticación laravel/ui y el scaffolding  de bootstrap --auth

# ¿Qué debería suceder en la aplicación si un usuario intenta entrar en un script para el cual no está autorizado según su perfil?

En la aplicación hemos implementado la protección de rutas según privilegios, así que cada usuario tiene diferentes privilegios que a su vez están relacionados a un rol en especifico. Por lo tanto cada vez que un usuario es autenticado en la aplicación están visibles solo la acciones y rutas autorizadas. Ahora  si desde la barra de navegación un usuario quiere acceder a una ruta protegida para él según sus privilegio, entonces aparece el error 403 con el siguiente mensaje “Esta acción no esta autorizada”. Y no le redirecciona a ningún lado.
